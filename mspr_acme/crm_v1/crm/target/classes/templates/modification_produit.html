<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" th:href="@{/css/main.css}"/>
        <link rel="stylesheet" th:href="@{/css/search.css}" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
        <title>Modifier Produit</title>
    </head>
    <body class="bg-fixed bg-cover bg-center bg-no-repeat" style="background-image: url('/images/nouveau4.png');">
        <nav th:replace="~{fragments/sidebar}"></nav>
        <div class="mt-40 py-8 px-4 mx-auto max-w-screen-sm lg:py-16 text-white">
            <h1 class="uppercase mb-4 text-2xl font-bold">Modifier produit</h1>
            <form th:action="@{'/modifier-produit/' + ${idProduit}}" method="post" th:object="${produit}" enctype="multipart/form-data">
                <div class="grid gap-3 grid-cols-1 md:grid-cols-3 md:gap-3 sm:grid-cols-2 sm:gap-3">
                    <div class="sm:col-span-1 md:col-span-2">
                        <label for="nom" class="block mb-2 text-sm font-medium">Nom du produit</label>
                        <input th:value="${produit.nom}" type="text" name="nom" id="nom" pattern="^[a-zA-Z0-9\s\.,-]*$" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5" placeholder="Ex : MacBook" required>
                    </div>
                    <div class="w-full">
                        <label for="categorie" class="block mb-2 text-sm font-medium">Nouvelle catégorie</label>
                        <input type="text" name="categorie" id="categorie" pattern="^[a-zA-Z0-9\s\.,-]*$" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5" placeholder="Nouvelle catégorie">
                    </div>
                    <div class="sm:col-span-1 md:col-span-2">
                        <label for="categories" class="block mb-2 text-sm font-medium">Catégorie</label>
                        <select id="categories" name="categories" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5">
                            <option  th:text="'Ancienne catégorie : ' + ${produit.categorie}" th:value="${produit.categorie}" selected></option>
                            <option th:each="categorie : ${categories}" th:value="${categorie}" th:text="${categorie}"></option>
                        </select>
                    </div>
                    <div>
                        <label for="stock" class="block mb-2 text-sm font-medium">Nombre de produit</label>
                        <input th:value="${produit.stock}" type="number" name="stock" id="stock" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" min="1" placeholder="12" required>
                    </div>
                    <div class="sm:col-span-2">
                        <label for="description" class="block mb-2 text-sm font-medium">Description</label>
                        <input th:value="${produit.description}" type="text" name="description" id="description" pattern="^[a-zA-Z0-9\s\.,-]*$" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500" placeholder="Entrez votre description">
                    </div>
                    <div class="h-720 w-720 rounded-lg bg-black mb-4">
                        <img th:src="@{'/images/Produit/' + ${produit.image}}" alt="Product Image">
                    </div>
                    <div>
                        <div>
                            <label for="imageFile">Image du produit:</label>
                            <input type="file" id="imageFile" name="imageFile" accept=".jpg, .jpeg, .png">
                        </div>
                        <button type="submit" class="w-full uppercase items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center text-white bg-blue-600 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-blue-800">
                            Valider
                        </button>
                    </div>
                </div>
            </form>
        </div>
        <script type="text/javascript" th:src="@{/js/script_navbar.js}"></script>
    </body>
</html>